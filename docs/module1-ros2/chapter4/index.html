<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-module1-ros2/chapter4" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Python Integration: Bridging Python Agents to ROS 2 | Physical AI &amp; Humanoid Robotics Textbook</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://Amnariazrit.github.io/physical-ai-humanoid-robotics-textbook/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://Amnariazrit.github.io/physical-ai-humanoid-robotics-textbook/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://Amnariazrit.github.io/physical-ai-humanoid-robotics-textbook/docs/module1-ros2/chapter4"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Python Integration: Bridging Python Agents to ROS 2 | Physical AI &amp; Humanoid Robotics Textbook"><meta data-rh="true" name="description" content="Python is a widely used language in robotics due to its simplicity, extensive libraries, and rapid prototyping capabilities. ROS 2 provides excellent support for Python through its client library, rclpy, allowing developers to write powerful and flexible ROS 2 nodes and integrate various Python-based AI agents and algorithms into their robotic systems."><meta data-rh="true" property="og:description" content="Python is a widely used language in robotics due to its simplicity, extensive libraries, and rapid prototyping capabilities. ROS 2 provides excellent support for Python through its client library, rclpy, allowing developers to write powerful and flexible ROS 2 nodes and integrate various Python-based AI agents and algorithms into their robotic systems."><link data-rh="true" rel="icon" href="/physical-ai-humanoid-robotics-textbook/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://Amnariazrit.github.io/physical-ai-humanoid-robotics-textbook/docs/module1-ros2/chapter4"><link data-rh="true" rel="alternate" href="https://Amnariazrit.github.io/physical-ai-humanoid-robotics-textbook/docs/module1-ros2/chapter4" hreflang="en"><link data-rh="true" rel="alternate" href="https://Amnariazrit.github.io/physical-ai-humanoid-robotics-textbook/docs/module1-ros2/chapter4" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Module 1: The Robotic Nervous System (ROS 2)","item":"https://Amnariazrit.github.io/physical-ai-humanoid-robotics-textbook/docs/module1-ros2/chapter1"},{"@type":"ListItem","position":2,"name":"Python Integration: Bridging Python Agents to ROS 2","item":"https://Amnariazrit.github.io/physical-ai-humanoid-robotics-textbook/docs/module1-ros2/chapter4"}]}</script><link rel="alternate" type="application/rss+xml" href="/physical-ai-humanoid-robotics-textbook/blog/rss.xml" title="Physical AI &amp; Humanoid Robotics Textbook RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/physical-ai-humanoid-robotics-textbook/blog/atom.xml" title="Physical AI &amp; Humanoid Robotics Textbook Atom Feed"><link rel="stylesheet" href="/physical-ai-humanoid-robotics-textbook/assets/css/styles.fc6aef72.css">
<script src="/physical-ai-humanoid-robotics-textbook/assets/js/runtime~main.86d9195f.js" defer="defer"></script>
<script src="/physical-ai-humanoid-robotics-textbook/assets/js/main.8ba223c2.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||"light"),document.documentElement.setAttribute("data-theme-choice",t||"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/physical-ai-humanoid-robotics-textbook/"><div class="navbar__logo"><img src="/physical-ai-humanoid-robotics-textbook/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/physical-ai-humanoid-robotics-textbook/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Physical AI &amp; Humanoid Robotics Textbook</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/physical-ai-humanoid-robotics-textbook/docs/module1-ros2/chapter1">Textbook</a><a class="navbar__item navbar__link" href="/physical-ai-humanoid-robotics-textbook/blog">Blog</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/Amnariazrit/physical-ai-humanoid-robotics-textbook" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" href="/physical-ai-humanoid-robotics-textbook/docs/module1-ros2/chapter1"><span title="Module 1: The Robotic Nervous System (ROS 2)" class="categoryLinkLabel_W154">Module 1: The Robotic Nervous System (ROS 2)</span></a><button aria-label="Collapse sidebar category &#x27;Module 1: The Robotic Nervous System (ROS 2)&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/physical-ai-humanoid-robotics-textbook/docs/module1-ros2/chapter1"><span title="Introduction to ROS 2: Overview and Architecture" class="linkLabel_WmDU">Introduction to ROS 2: Overview and Architecture</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/physical-ai-humanoid-robotics-textbook/docs/module1-ros2/chapter2"><span title="ROS 2 Nodes and Topics: Communication in Robotics" class="linkLabel_WmDU">ROS 2 Nodes and Topics: Communication in Robotics</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/physical-ai-humanoid-robotics-textbook/docs/module1-ros2/chapter3"><span title="ROS 2 Services and Actions: Synchronous and Asynchronous Calls" class="linkLabel_WmDU">ROS 2 Services and Actions: Synchronous and Asynchronous Calls</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/physical-ai-humanoid-robotics-textbook/docs/module1-ros2/chapter4"><span title="Python Integration: Bridging Python Agents to ROS 2" class="linkLabel_WmDU">Python Integration: Bridging Python Agents to ROS 2</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/physical-ai-humanoid-robotics-textbook/docs/module1-ros2/chapter5"><span title="URDF for Humanoids: Robot Description and Simulation Basics" class="linkLabel_WmDU">URDF for Humanoids: Robot Description and Simulation Basics</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/physical-ai-humanoid-robotics-textbook/docs/module2-gazebo/chapter1"><span title="Module 2: The Digital Twin (Gazebo &amp; Unity)" class="categoryLinkLabel_W154">Module 2: The Digital Twin (Gazebo &amp; Unity)</span></a><button aria-label="Expand sidebar category &#x27;Module 2: The Digital Twin (Gazebo &amp; Unity)&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/physical-ai-humanoid-robotics-textbook/docs/module3-isaac/chapter1"><span title="Module 3: The AI-Robot Brain (NVIDIA Isaac)" class="categoryLinkLabel_W154">Module 3: The AI-Robot Brain (NVIDIA Isaac)</span></a><button aria-label="Expand sidebar category &#x27;Module 3: The AI-Robot Brain (NVIDIA Isaac)&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/physical-ai-humanoid-robotics-textbook/docs/module4-vla/chapter1"><span title="Module 4: Vision-Language-Action (VLA)" class="categoryLinkLabel_W154">Module 4: Vision-Language-Action (VLA)</span></a><button aria-label="Expand sidebar category &#x27;Module 4: Vision-Language-Action (VLA)&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/physical-ai-humanoid-robotics-textbook/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/physical-ai-humanoid-robotics-textbook/docs/module1-ros2/chapter1"><span>Module 1: The Robotic Nervous System (ROS 2)</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Python Integration: Bridging Python Agents to ROS 2</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Python Integration: Bridging Python Agents to ROS 2</h1></header>
<p>Python is a widely used language in robotics due to its simplicity, extensive libraries, and rapid prototyping capabilities. ROS 2 provides excellent support for Python through its client library, <code>rclpy</code>, allowing developers to write powerful and flexible ROS 2 nodes and integrate various Python-based AI agents and algorithms into their robotic systems.</p>
<p>This chapter will focus on how to effectively integrate Python code with ROS 2, leveraging <code>rclpy</code> to build nodes that can communicate seamlessly within the ROS 2 ecosystem. We&#x27;ll explore common patterns for creating ROS 2 components in Python and discuss best practices for integrating external Python libraries.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="the-rclpy-client-library">The <code>rclpy</code> Client Library<a href="#the-rclpy-client-library" class="hash-link" aria-label="Direct link to the-rclpy-client-library" title="Direct link to the-rclpy-client-library" translate="no">​</a></h2>
<p><code>rclpy</code> is the Python client library for ROS 2. It provides the necessary API to interact with the ROS 2 graph, enabling Python nodes to:</p>
<ul>
<li class="">Create nodes.</li>
<li class="">Publish messages to topics.</li>
<li class="">Subscribe to topics and receive messages.</li>
<li class="">Provide services and act as service clients.</li>
<li class="">Provide actions and act as action clients.</li>
<li class="">Access and modify parameters.</li>
<li class="">Log messages.</li>
</ul>
<p>The examples in the previous chapters have already utilized <code>rclpy</code> for basic node, publisher, and subscriber functionalities. Here, we&#x27;ll reinforce these concepts and discuss how to structure your Python ROS 2 packages.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="structuring-python-ros-2-packages">Structuring Python ROS 2 Packages<a href="#structuring-python-ros-2-packages" class="hash-link" aria-label="Direct link to Structuring Python ROS 2 Packages" title="Direct link to Structuring Python ROS 2 Packages" translate="no">​</a></h2>
<p>A typical Python ROS 2 package structure looks like this:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">my_python_package/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── my_python_package/            # Python module directory</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── __init__.py               # Makes it a Python package</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── my_node.py                # Your Python ROS 2 node(s)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └── some_utility.py           # Other Python modules</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── resource/                     # Resource files (e.g., config, meshes)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── launch/                       # Launch files (Python or XML)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └── my_launch_file.py</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── srv/                          # Service definitions (.srv)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── action/                       # Action definitions (.action)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── package.xml                   # Package manifest</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└── setup.py                      # Python package build script</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="key-files">Key Files:<a href="#key-files" class="hash-link" aria-label="Direct link to Key Files:" title="Direct link to Key Files:" translate="no">​</a></h3>
<ul>
<li class=""><strong><code>setup.py</code></strong>: This file is crucial for defining how your Python package is built and what executables (<code>console_scripts</code>) it provides to ROS 2. It uses <code>setuptools</code> to manage the package. You saw this in action when adding <code>entry_points</code> for <code>talker</code>, <code>listener</code>, <code>add_two_ints_server</code>, and <code>add_two_ints_client</code>.</li>
<li class=""><strong><code>package.xml</code></strong>: The package manifest, containing metadata about your package like name, version, description, maintainer, license, and most importantly, its dependencies.</li>
<li class=""><strong><code>__init__.py</code></strong>: An empty file that tells Python that the directory (<code>my_python_package</code> in this example) should be considered a Python package.</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="integrating-external-python-libraries">Integrating External Python Libraries<a href="#integrating-external-python-libraries" class="hash-link" aria-label="Direct link to Integrating External Python Libraries" title="Direct link to Integrating External Python Libraries" translate="no">​</a></h2>
<p>One of Python&#x27;s greatest strengths is its rich ecosystem of third-party libraries (e.g., NumPy, SciPy, OpenCV, TensorFlow, PyTorch). Integrating these into ROS 2 nodes is straightforward.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="1-install-the-library">1. Install the Library<a href="#1-install-the-library" class="hash-link" aria-label="Direct link to 1. Install the Library" title="Direct link to 1. Install the Library" translate="no">​</a></h3>
<p>Typically, you would install the library using <code>pip</code> within your Python environment:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">pip install numpy</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="2-declare-dependencies">2. Declare Dependencies<a href="#2-declare-dependencies" class="hash-link" aria-label="Direct link to 2. Declare Dependencies" title="Direct link to 2. Declare Dependencies" translate="no">​</a></h3>
<p>You should declare these external Python dependencies in your <code>package.xml</code> using the <code>&lt;exec_depend&gt;</code> tag. For example:</p>
<div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">exec_depend</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">python3-numpy</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">exec_depend</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre></div></div>
<p>And in your <code>setup.py</code>&#x27;s <code>install_requires</code>:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    install_requires</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;setuptools&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;numpy&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="3-import-and-use">3. Import and Use<a href="#3-import-and-use" class="hash-link" aria-label="Direct link to 3. Import and Use" title="Direct link to 3. Import and Use" translate="no">​</a></h3>
<p>Once installed and declared, you can simply <code>import</code> the library in your Python ROS 2 node files and use its functionalities as you normally would in any Python script.</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> rclpy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> rclpy</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">node </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> Node</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> numpy </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> np </span><span class="token comment" style="color:#999988;font-style:italic"># Import an external library</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">MyProcessingNode</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Node</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">__init__</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token builtin">super</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">__init__</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;my_processing_node&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get_logger</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">info</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;Using NumPy version: %s&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">%</span><span class="token plain"> np</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">__version__</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># ... rest of your node logic using numpy ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># ... main function ...</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="bridging-ai-agents-to-ros-2">Bridging AI Agents to ROS 2<a href="#bridging-ai-agents-to-ros-2" class="hash-link" aria-label="Direct link to Bridging AI Agents to ROS 2" title="Direct link to Bridging AI Agents to ROS 2" translate="no">​</a></h2>
<p>The seamless integration of Python libraries is particularly powerful for AI applications. You can develop sophisticated AI agents (e.g., for computer vision, natural language processing, reinforcement learning) using frameworks like TensorFlow or PyTorch, and then wrap them within ROS 2 nodes.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="common-patterns">Common Patterns:<a href="#common-patterns" class="hash-link" aria-label="Direct link to Common Patterns:" title="Direct link to Common Patterns:" translate="no">​</a></h3>
<ul>
<li class=""><strong>ROS 2 as Orchestrator</strong>: Your ROS 2 node can act as an orchestrator, receiving raw sensor data (e.g., camera images via a topic), passing it to a Python AI model (e.g., a neural network for object detection), processing the output, and then publishing the AI&#x27;s inference result back to another ROS 2 topic or sending a command via an action.</li>
<li class=""><strong>Encapsulating AI Logic</strong>: The complex AI logic can reside in a separate Python module or class within your ROS 2 package. The ROS 2 node then instantiates this AI agent and handles the ROS 2-specific communication.</li>
</ul>
<p>This approach allows you to leverage the full power of the Python AI ecosystem while benefiting from ROS 2&#x27;s robust communication, tooling, and ecosystem for robotics integration.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="conclusion">Conclusion<a href="#conclusion" class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion" translate="no">​</a></h2>
<p>Python&#x27;s integration with ROS 2 through <code>rclpy</code> makes it an indispensable tool for robotics development, especially when combining traditional robotics functionalities with advanced AI agents. By understanding package structuring and dependency management, you can effectively bridge the capabilities of Python&#x27;s vast library ecosystem into your ROS 2-powered robotic systems.</p></div></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/physical-ai-humanoid-robotics-textbook/docs/module1-ros2/chapter3"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">ROS 2 Services and Actions: Synchronous and Asynchronous Calls</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/physical-ai-humanoid-robotics-textbook/docs/module1-ros2/chapter5"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">URDF for Humanoids: Robot Description and Simulation Basics</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#the-rclpy-client-library" class="table-of-contents__link toc-highlight">The <code>rclpy</code> Client Library</a></li><li><a href="#structuring-python-ros-2-packages" class="table-of-contents__link toc-highlight">Structuring Python ROS 2 Packages</a><ul><li><a href="#key-files" class="table-of-contents__link toc-highlight">Key Files:</a></li></ul></li><li><a href="#integrating-external-python-libraries" class="table-of-contents__link toc-highlight">Integrating External Python Libraries</a><ul><li><a href="#1-install-the-library" class="table-of-contents__link toc-highlight">1. Install the Library</a></li><li><a href="#2-declare-dependencies" class="table-of-contents__link toc-highlight">2. Declare Dependencies</a></li><li><a href="#3-import-and-use" class="table-of-contents__link toc-highlight">3. Import and Use</a></li></ul></li><li><a href="#bridging-ai-agents-to-ros-2" class="table-of-contents__link toc-highlight">Bridging AI Agents to ROS 2</a><ul><li><a href="#common-patterns" class="table-of-contents__link toc-highlight">Common Patterns:</a></li></ul></li><li><a href="#conclusion" class="table-of-contents__link toc-highlight">Conclusion</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/physical-ai-humanoid-robotics-textbook/docs/module1-ros2/chapter1">Textbook</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://twitter.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/physical-ai-humanoid-robotics-textbook/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/Amnariazrit/physical-ai-humanoid-robotics-textbook" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Physical AI & Humanoid Robotics Textbook. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>